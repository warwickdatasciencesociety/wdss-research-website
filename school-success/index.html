<!DOCTYPE html><html lang="en" data-theme="light"><head><script type="text/javascript" src="//downloads.mailchimp.com/js/signup-forms/popup/unique-methods/embed.js" data-dojo-config="usePlainJson: true, isDebug: false"></script><script type="text/javascript">window.dojoRequire(["mojo/signup-forms/Loader"],function(o){o.start({baseUrl:"mc.us4.list-manage.com",uuid:"1fd8b3cd2ba70f51528f758b7",lid:"0a5bf38afd",uniqueMethods:!0})})</script><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>What Factors Actually Affect Your Grades? | Research @ WDSS</title><meta name="description" content="If only there was some way to know how well you'd do in your exams. Well, perhaps data science can get us part way there. Read on to find out how."><meta name="keywords" content="visualization,data-analysis,regression"><meta name="author" content="Warwick Data Science"><meta name="copyright" content="Warwick Data Science"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="What Factors Actually Affect Your Grades?"><meta name="twitter:description" content="If only there was some way to know how well you'd do in your exams. Well, perhaps data science can get us part way there. Read on to find out how."><meta name="twitter:image" content="https://research.wdss.io/banners/school-success.jpg"><meta property="og:type" content="article"><meta property="og:title" content="What Factors Actually Affect Your Grades?"><meta property="og:url" content="https://research.wdss.io/school-success/"><meta property="og:site_name" content="Research @ WDSS"><meta property="og:description" content="If only there was some way to know how well you'd do in your exams. Well, perhaps data science can get us part way there. Read on to find out how."><meta property="og:image" content="https://research.wdss.io/banners/school-success.jpg"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode="1",t=Cookies.get("theme");if("1"==autoChangeMode){var isDarkMode=window.matchMedia("(prefers-color-scheme: dark)").matches,isLightMode=window.matchMedia("(prefers-color-scheme: light)").matches,isNotSpecified=window.matchMedia("(prefers-color-scheme: no-preference)").matches,hasNoSupport=!isDarkMode&&!isLightMode&&!isNotSpecified;if(void 0===t){if(isLightMode)activateLightMode();else if(isDarkMode)activateDarkMode();else if(isNotSpecified||hasNoSupport){console.log("You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.");var now=new Date,hour=now.getHours(),isNight=hour<6||18<=hour;isNight?activateDarkMode():activateLightMode()}}else"light"==t?activateLightMode():activateDarkMode()}else"2"==autoChangeMode?(isNight=(hour=(now=new Date).getHours())<6||18<=hour,void 0===t?isNight?activateDarkMode():activateLightMode():"light"===t?activateLightMode():activateDarkMode()):"dark"==t?activateDarkMode():"light"==t&&activateLightMode();function activateDarkMode(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#000")}function activateLightMode(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#fff")}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="canonical" href="https://research.wdss.io/school-success/"><link rel="prev" title="Urban Cities: A History Told By Data" href="https://research.wdss.io/urban-cities/"><link rel="next" title="Gibrat's Law: The Central Limit Theorem's Forgotten Twin" href="https://research.wdss.io/gibrats-law/"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"4718922828481704",enable_page_level_ads:"true"})</script><script data-ad-client="ca-pub-4718922828481704" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"search.xml",languages:{hits_empty:"We didn't find any results for: ${query}"}},translate:void 0,copy:{success:"Copied successfully",error:"Copy failed",noSupport:"Not supported by browser"},bookmark:{message_prev:"Press",message_next:"to bookmark this page"},runtime_unit:"days",runtime:!0,copyright:void 0,ClickShowText:void 0,medium_zoom:!1,fancybox:!0,Snackbar:{bookmark:{message_prev:"Press",message_next:"to bookmark this page"},chs_to_cht:"Traditional Chinese Activated Manually",cht_to_chs:"Simplified Chinese Activated Manually",day_to_night:"Dark Mode Activated Manually",night_to_day:"Light Mode Activated Manually",bgLight:"#49b1f5",bgDark:"#2d3035",position:"bottom-left"},baiduPush:!1,highlightCopy:!0,highlightLang:!0,highlightShrink:"false",isFontAwesomeV5:!1,isPhotoFigcaption:!1}</script><script>var GLOBAL_CONFIG_SITE={isPost:!0,isHome:!1,isSidebar:!0}</script><noscript><style>#page-header{opacity:1}.justified-gallery img{opacity:1}</style></noscript><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="Research @ WDSS" type="application/atom+xml">
</head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">23</div></a></div></div><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">37</div></a></div></div><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/categories/"><div class="headline">Categories</div><div class="length_num">23</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">Contents</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Exploratory-Data-Analysis"><span class="toc-number">1.</span> <span class="toc-text">Exploratory Data Analysis</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Dataset-Overview"><span class="toc-number">1.1.</span> <span class="toc-text">Dataset Overview</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Finding-and-Visualizing-Correlations-for-Numerical-Variables"><span class="toc-number">1.2.</span> <span class="toc-text">Finding and Visualizing Correlations for Numerical Variables</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#One-Hot-Encoding"><span class="toc-number">1.3.</span> <span class="toc-text">One-Hot Encoding</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Finding-and-Visualizing-Correlations-for-Encoded-Categorical-Variables"><span class="toc-number">1.4.</span> <span class="toc-text">Finding and Visualizing Correlations for Encoded Categorical Variables</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Visualizing-Key-Trends"><span class="toc-number">2.</span> <span class="toc-text">Visualizing Key Trends</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Effect-of-Address-Type-on-Grades"><span class="toc-number">2.1.</span> <span class="toc-text">Effect of Address Type on Grades</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Effect-of-Relationship-Status-on-Grades"><span class="toc-number">2.2.</span> <span class="toc-text">Effect of Relationship Status on Grades</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Effect-of-Sex-on-Grades"><span class="toc-number">2.3.</span> <span class="toc-text">Effect of Sex on Grades</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Effect-of-School-Choice-on-Grades"><span class="toc-number">2.4.</span> <span class="toc-text">Effect of School Choice on Grades</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Model-fitting"><span class="toc-number">3.</span> <span class="toc-text">Model-fitting</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Conclusion"><span class="toc-number">4.</span> <span class="toc-text">Conclusion</span></a></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image:url(/banners/school-success.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Research @ WDSS</a></span><span class="pull_right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">What Factors Actually Affect Your Grades?</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="Created 2020-04-19 00:00:00"><i class="fa fa-calendar" aria-hidden="true"></i> Created 2020-04-19</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="Updated 2020-04-19 00:00:00"><i class="fa fa-history" aria-hidden="true"></i> Updated 2020-04-19</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-user post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="https://www.linkedin.com/in/brandusa-draghici-5b0a84147/" target="_blank" rel="noopener">Brandusa Draghici</a></span><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Social-Sciences/">Social Sciences</a><i class="fa fa-angle-right post-meta__separator" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Social-Sciences/Education/">Education</a></span></div><div class="meta-secondline"><span class="post-meta-wordcount"><i class="post-meta__icon fa fa-file-word-o" aria-hidden="true"></i><span>Word count:</span><span class="word-count">2.3k</span><span class="post-meta__separator">|</span><i class="post-meta__icon fa fa-clock-o" aria-hidden="true"></i><span>Reading time: 14 min</span></span></div><div class="meta-thirdline"><span class="post-meta-pv-cv"><span class="post-meta__separator">|</span></span><span class="post-meta-commentcount"><i class="post-meta__icon fa fa-comment-o" aria-hidden="true"></i><span>Comments:</span><span class="disqus-comment-count comment-count"><a href="https://research.wdss.io/school-success/#disqus_thread"></a></span></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div id="article-container"><div class="note info"><p><strong>Accessing Post Source</strong><br>We are still working on getting this site set up, so source code for this post is not yet available. Check back soon and you’ll be able to find it linked here.</p></div><p>With exam period approaching fast, every student is wondering how to score the best possible grade. Some factors—like how much sleep you’re getting or how healthy you are—seem to have an obvious correlation with your final grade. What about your relationship status? How much should you be studying to achieve the grade you want? Does the subject you’re studying influence your final grade? In this article, we will use two datasets containing student math and Portuguese language performance in two different Portuguese schools and see which factors affected student performance the most.</p><h2 id="Exploratory-Data-Analysis">Exploratory Data Analysis</h2><h3 id="Dataset-Overview">Dataset Overview</h3><p>The variables are the same for the two datasets:</p><table><thead><tr><th style="text-align:center">Variable</th><th style="text-align:center">Description</th><th style="text-align:center">Type</th><th style="text-align:center">Possible Values</th></tr></thead><tbody><tr><td style="text-align:center">school</td><td style="text-align:center">School</td><td style="text-align:center">binary</td><td style="text-align:center">GP—Gabriel Pereira; MS—Mousinho da Silveira</td></tr><tr><td style="text-align:center">sex</td><td style="text-align:center">Sex</td><td style="text-align:center">binary</td><td style="text-align:center">F—female; M—male</td></tr><tr><td style="text-align:center">age</td><td style="text-align:center">Age</td><td style="text-align:center">numeric</td><td style="text-align:center">15–22, inclusive</td></tr><tr><td style="text-align:center">address</td><td style="text-align:center">Address type</td><td style="text-align:center">binary</td><td style="text-align:center">U—Urban; R—Rural</td></tr><tr><td style="text-align:center">famsize</td><td style="text-align:center">Family Size</td><td style="text-align:center">binary</td><td style="text-align:center">LE3—less than or equal to 3; GE3—greater than 3</td></tr><tr><td style="text-align:center">Pstatus</td><td style="text-align:center">Parent’s cohabitation status</td><td style="text-align:center">binary</td><td style="text-align:center">T—living together; A—living apart</td></tr><tr><td style="text-align:center">Medu</td><td style="text-align:center">Mother’s Education</td><td style="text-align:center">ordinal</td><td style="text-align:center">0—none; 1—up to 4th grade; 2—5th–9th grade; 3—secondary; 4—higher</td></tr><tr><td style="text-align:center">Fedu</td><td style="text-align:center">Father’s Education</td><td style="text-align:center">ordinal</td><td style="text-align:center">0—none; 1—up to 4th grade; 2—5th–9th grade; 3—secondary; 4—higher</td></tr><tr><td style="text-align:center">Mjob</td><td style="text-align:center">Mother’s Job</td><td style="text-align:center">nominal</td><td style="text-align:center">teacher; health(-care related); (civil )services; at home; other</td></tr><tr><td style="text-align:center">Fjob</td><td style="text-align:center">Father’s Job</td><td style="text-align:center">nominal</td><td style="text-align:center">teacher; health(-care related); (civil )services; at home; other</td></tr><tr><td style="text-align:center">reason</td><td style="text-align:center">Reason for choosing school</td><td style="text-align:center">nominal</td><td style="text-align:center">(close to )home; (school )reputation; course(preference); other</td></tr><tr><td style="text-align:center">guardian</td><td style="text-align:center">Student’s guardian</td><td style="text-align:center">nominal</td><td style="text-align:center">mother; father; other</td></tr><tr><td style="text-align:center">traveltime</td><td style="text-align:center">Travel time to school</td><td style="text-align:center">ordinal</td><td style="text-align:center">1—&lt;15 min.; 2—15–30 min.; 3—30 min.–1 hour; 4—&gt;1 hour</td></tr><tr><td style="text-align:center">studytime</td><td style="text-align:center">Weekly study time</td><td style="text-align:center">ordinal</td><td style="text-align:center">1—&lt;2 hours; 2—2–5 hours; 3—5–10 hours; 4—&gt;10 hours</td></tr><tr><td style="text-align:center">failures</td><td style="text-align:center">Past class failures</td><td style="text-align:center">numeric</td><td style="text-align:center">0–3, else 4</td></tr><tr><td style="text-align:center">schoolsup</td><td style="text-align:center">Extra educational support</td><td style="text-align:center">binary</td><td style="text-align:center">yes; no</td></tr><tr><td style="text-align:center">famsup</td><td style="text-align:center">Family educational support</td><td style="text-align:center">binary</td><td style="text-align:center">yes; no</td></tr><tr><td style="text-align:center">paid</td><td style="text-align:center">Extra paid classes</td><td style="text-align:center">binary</td><td style="text-align:center">yes; no</td></tr><tr><td style="text-align:center">activities</td><td style="text-align:center">Extra-curricular activities</td><td style="text-align:center">binary</td><td style="text-align:center">yes; no</td></tr><tr><td style="text-align:center">nursery</td><td style="text-align:center">Attend nursery</td><td style="text-align:center">binary</td><td style="text-align:center">yes; no</td></tr><tr><td style="text-align:center">higher</td><td style="text-align:center">Wants to take higher education</td><td style="text-align:center">binary</td><td style="text-align:center">yes; no</td></tr><tr><td style="text-align:center">internet</td><td style="text-align:center">Home internet access</td><td style="text-align:center">binary</td><td style="text-align:center">yes; no</td></tr><tr><td style="text-align:center">romantic</td><td style="text-align:center">In a romantic relationship</td><td style="text-align:center">binary</td><td style="text-align:center">yes; no</td></tr><tr><td style="text-align:center">famrel</td><td style="text-align:center">Quality of family relationships</td><td style="text-align:center">ordinal</td><td style="text-align:center">1—very bad to 5—very good</td></tr><tr><td style="text-align:center">freetime</td><td style="text-align:center">Free time after school</td><td style="text-align:center">ordinal</td><td style="text-align:center">1—very low to 5—very high</td></tr><tr><td style="text-align:center">goout</td><td style="text-align:center">Going out with friends</td><td style="text-align:center">ordinal</td><td style="text-align:center">1—very low to 5—very high</td></tr><tr><td style="text-align:center">Dalc</td><td style="text-align:center">Workday alcohol consumption</td><td style="text-align:center">ordinal</td><td style="text-align:center">1—very low to 5—very high</td></tr><tr><td style="text-align:center">Walc</td><td style="text-align:center">Weekend alcohol consumption</td><td style="text-align:center">ordinal</td><td style="text-align:center">1—very low to 5—very high</td></tr><tr><td style="text-align:center">health</td><td style="text-align:center">Current health status</td><td style="text-align:center">ordinal</td><td style="text-align:center">1—very bad to 5—very good</td></tr><tr><td style="text-align:center">absences</td><td style="text-align:center">Number absences</td><td style="text-align:center">numeric</td><td style="text-align:center">0–93</td></tr><tr><td style="text-align:center">G1</td><td style="text-align:center">First Period Grade</td><td style="text-align:center">numeric</td><td style="text-align:center">0–20</td></tr><tr><td style="text-align:center">G2</td><td style="text-align:center">Second Period Grade</td><td style="text-align:center">numeric</td><td style="text-align:center">0–20</td></tr><tr><td style="text-align:center">G3</td><td style="text-align:center">Final Grade</td><td style="text-align:center">numeric</td><td style="text-align:center">0–20</td></tr></tbody></table><p>I will be conducting a basic analysis of the dataset followed by visualizations of the correlations between different factors. Finally, I will build a linear regression model for each subject to predict the students’ final grades.</p><p>We will start by importing all the necessary packages and load the datasets into a pandas dataframe.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import necessary packages</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd  </span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np  </span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> statistics <span class="keyword">as</span> stats</span><br><span class="line"><span class="keyword">import</span> statsmodels.api <span class="keyword">as</span> sm</span><br><span class="line"></span><br><span class="line"><span class="comment"># Load the dataset from the csv file using pandas</span></span><br><span class="line">data_m = pd.read_csv(<span class="string">r'data/student-mat.csv'</span>, sep=<span class="string">';'</span>)</span><br><span class="line">data_p = pd.read_csv(<span class="string">r'data/student-por.csv'</span>, sep=<span class="string">';'</span>)</span><br></pre></td></tr></table></figure><p>We can start by taking a look at the first few rows of each dataset.</p><pre><code>First 5 lines of the math performance dataset:
</code></pre><table><thead><tr><th></th><th>school</th><th>sex</th><th>age</th><th>address</th><th>famsize</th><th>Pstatus</th><th>Medu</th><th>Fedu</th><th>Mjob</th><th>Fjob</th><th>reason</th><th>guardian</th><th>traveltime</th><th>studytime</th><th>failures</th><th>schoolsup</th><th>famsup</th><th>paid</th><th>activities</th><th>nursery</th><th>higher</th><th>internet</th><th>romantic</th><th>famrel</th><th>freetime</th><th>goout</th><th>Dalc</th><th>Walc</th><th>health</th><th>absences</th><th>G1</th><th>G2</th><th>G3</th></tr></thead><tbody><tr><th>0</th><td>GP</td><td>F</td><td>18</td><td>U</td><td>GT3</td><td>A</td><td>4</td><td>4</td><td>at_home</td><td>teacher</td><td>course</td><td>mother</td><td>2</td><td>2</td><td>0</td><td>yes</td><td>no</td><td>no</td><td>no</td><td>yes</td><td>yes</td><td>no</td><td>no</td><td>4</td><td>3</td><td>4</td><td>1</td><td>1</td><td>3</td><td>6</td><td>5</td><td>6</td><td>6</td></tr><tr><th>1</th><td>GP</td><td>F</td><td>17</td><td>U</td><td>GT3</td><td>T</td><td>1</td><td>1</td><td>at_home</td><td>other</td><td>course</td><td>father</td><td>1</td><td>2</td><td>0</td><td>no</td><td>yes</td><td>no</td><td>no</td><td>no</td><td>yes</td><td>yes</td><td>no</td><td>5</td><td>3</td><td>3</td><td>1</td><td>1</td><td>3</td><td>4</td><td>5</td><td>5</td><td>6</td></tr><tr><th>2</th><td>GP</td><td>F</td><td>15</td><td>U</td><td>LE3</td><td>T</td><td>1</td><td>1</td><td>at_home</td><td>other</td><td>other</td><td>mother</td><td>1</td><td>2</td><td>3</td><td>yes</td><td>no</td><td>yes</td><td>no</td><td>yes</td><td>yes</td><td>yes</td><td>no</td><td>4</td><td>3</td><td>2</td><td>2</td><td>3</td><td>3</td><td>10</td><td>7</td><td>8</td><td>10</td></tr><tr><th>3</th><td>GP</td><td>F</td><td>15</td><td>U</td><td>GT3</td><td>T</td><td>4</td><td>2</td><td>health</td><td>services</td><td>home</td><td>mother</td><td>1</td><td>3</td><td>0</td><td>no</td><td>yes</td><td>yes</td><td>yes</td><td>yes</td><td>yes</td><td>yes</td><td>yes</td><td>3</td><td>2</td><td>2</td><td>1</td><td>1</td><td>5</td><td>2</td><td>15</td><td>14</td><td>15</td></tr><tr><th>4</th><td>GP</td><td>F</td><td>16</td><td>U</td><td>GT3</td><td>T</td><td>3</td><td>3</td><td>other</td><td>other</td><td>home</td><td>father</td><td>1</td><td>2</td><td>0</td><td>no</td><td>yes</td><td>yes</td><td>no</td><td>yes</td><td>yes</td><td>no</td><td>no</td><td>4</td><td>3</td><td>2</td><td>1</td><td>2</td><td>5</td><td>4</td><td>6</td><td>10</td><td>10</td></tr></tbody></table><pre><code>First 5 lines of the Portuguese performance dataset:
</code></pre><table><thead><tr><th></th><th>school</th><th>sex</th><th>age</th><th>address</th><th>famsize</th><th>Pstatus</th><th>Medu</th><th>Fedu</th><th>Mjob</th><th>Fjob</th><th>reason</th><th>guardian</th><th>traveltime</th><th>studytime</th><th>failures</th><th>schoolsup</th><th>famsup</th><th>paid</th><th>activities</th><th>nursery</th><th>higher</th><th>internet</th><th>romantic</th><th>famrel</th><th>freetime</th><th>goout</th><th>Dalc</th><th>Walc</th><th>health</th><th>absences</th><th>G1</th><th>G2</th><th>G3</th></tr></thead><tbody><tr><th>0</th><td>GP</td><td>F</td><td>18</td><td>U</td><td>GT3</td><td>A</td><td>4</td><td>4</td><td>at_home</td><td>teacher</td><td>course</td><td>mother</td><td>2</td><td>2</td><td>0</td><td>yes</td><td>no</td><td>no</td><td>no</td><td>yes</td><td>yes</td><td>no</td><td>no</td><td>4</td><td>3</td><td>4</td><td>1</td><td>1</td><td>3</td><td>4</td><td>0</td><td>11</td><td>11</td></tr><tr><th>1</th><td>GP</td><td>F</td><td>17</td><td>U</td><td>GT3</td><td>T</td><td>1</td><td>1</td><td>at_home</td><td>other</td><td>course</td><td>father</td><td>1</td><td>2</td><td>0</td><td>no</td><td>yes</td><td>no</td><td>no</td><td>no</td><td>yes</td><td>yes</td><td>no</td><td>5</td><td>3</td><td>3</td><td>1</td><td>1</td><td>3</td><td>2</td><td>9</td><td>11</td><td>11</td></tr><tr><th>2</th><td>GP</td><td>F</td><td>15</td><td>U</td><td>LE3</td><td>T</td><td>1</td><td>1</td><td>at_home</td><td>other</td><td>other</td><td>mother</td><td>1</td><td>2</td><td>0</td><td>yes</td><td>no</td><td>no</td><td>no</td><td>yes</td><td>yes</td><td>yes</td><td>no</td><td>4</td><td>3</td><td>2</td><td>2</td><td>3</td><td>3</td><td>6</td><td>12</td><td>13</td><td>12</td></tr><tr><th>3</th><td>GP</td><td>F</td><td>15</td><td>U</td><td>GT3</td><td>T</td><td>4</td><td>2</td><td>health</td><td>services</td><td>home</td><td>mother</td><td>1</td><td>3</td><td>0</td><td>no</td><td>yes</td><td>no</td><td>yes</td><td>yes</td><td>yes</td><td>yes</td><td>yes</td><td>3</td><td>2</td><td>2</td><td>1</td><td>1</td><td>5</td><td>0</td><td>14</td><td>14</td><td>14</td></tr><tr><th>4</th><td>GP</td><td>F</td><td>16</td><td>U</td><td>GT3</td><td>T</td><td>3</td><td>3</td><td>other</td><td>other</td><td>home</td><td>father</td><td>1</td><td>2</td><td>0</td><td>no</td><td>yes</td><td>no</td><td>no</td><td>yes</td><td>yes</td><td>no</td><td>no</td><td>4</td><td>3</td><td>2</td><td>1</td><td>2</td><td>5</td><td>0</td><td>11</td><td>13</td><td>13</td></tr></tbody></table><p>An important detail to note is that there are 395 high school students in the math dataset and 649 in the Portuguese dataset. The grades of the student are from 0 to 20. Furthermore, there are 16 numerical variables out of 33; the rest of the variables will need to be one-hot encoded when we will analyze correlations and build the regression model.</p><p>Now let’s visualize the final grades distributions for both subjects.</p><p><img src="/" class="lazyload" data-src="/images/school-success/school-success_13_0.png" alt="Distribution of student grades for math and Portuguese"></p><p>We can also calculate that the average final grades for math and Portuguese students are 10.42 and 11.91, respectively. This suggests that Portuguese students score higher on average than math students although this comparison could easily have been skewed by the large number of math students scoring zero.</p><h3 id="Finding-and-Visualizing-Correlations-for-Numerical-Variables">Finding and Visualizing Correlations for Numerical Variables</h3><p>We are now going to automatically find the variables with the strongest correlation to the final grades for both datasets. Finding correlations between non-numeric features and the outcome can get a bit messy, so we will focus on testing only the existing numerical values of the datasets at first. To better visualize the insights, we will also use correlation bar plots and heat maps for both datasets.</p><p><img src="/" class="lazyload" data-src="/images/school-success/school-success_17_0.png" alt="Correlations between numeric predictors and the response for math"></p><p>To interpret correlation bar plots and heat map:</p><ul><li>The darker the bar/square, the stronger the correlation is.</li><li>Brown represents negative correlations, whereas purple represents positive correlations.</li></ul><p><img src="/" class="lazyload" data-src="/images/school-success/school-success_19_0.png" alt="Correlations between numeric predictors and the response for Portuguese"></p><p>Insights:</p><ul><li>For both datasets, the number of past classes <code>failures</code> has a strong negative correlation with <code>G3</code>.</li><li>Other common variables with a negative correlation are <code>age</code>, frequency of going out with friends (<code>goout</code>), <code>traveltime</code>, <code>freetime</code> and <code>health</code>.</li><li><code>G1</code> and <code>G2</code> have very strong positive correlation coefficients for both datasets because student performance usually remains constant throughout the year; we will therefore ignore them.</li><li>Other common variables with a positive correlation are: <code>studytime</code>, education of parents (<code>Fedu</code> and <code>Medu</code>) and family relationship (<code>famrel</code>).</li></ul><h3 id="One-Hot-Encoding">One-Hot Encoding</h3><p>In order to get more insight from these datasets, we need to be able to use the categorical variables as well. An example of categorical variable is the <code>school</code> variable (the student is either at Gabriel Pereira or Mousinho da Silveira) as there are multiple possible values with no intrinsic ordering. We will use a technique called one-hot encoding, which assigns binary value to each category level indicating whether or not that level was the value of the original predictor. Here is an example of how it would look like for the variable father’s job (<code>Fjob</code>).</p><table><thead><tr><th>Father’s Job</th><th style="text-align:center">Occupation_teacher</th><th style="text-align:center">Occupation_health</th><th style="text-align:center">Occupation_services</th><th style="text-align:center">Occupation_at_home</th><th style="text-align:center">Occupation_other</th></tr></thead><tbody><tr><td>teacher</td><td style="text-align:center">1</td><td style="text-align:center">0</td><td style="text-align:center">0</td><td style="text-align:center">0</td><td style="text-align:center">0</td></tr><tr><td>health</td><td style="text-align:center">0</td><td style="text-align:center">1</td><td style="text-align:center">0</td><td style="text-align:center">0</td><td style="text-align:center">0</td></tr><tr><td>services</td><td style="text-align:center">0</td><td style="text-align:center">0</td><td style="text-align:center">1</td><td style="text-align:center">0</td><td style="text-align:center">0</td></tr><tr><td>at_home</td><td style="text-align:center">0</td><td style="text-align:center">0</td><td style="text-align:center">0</td><td style="text-align:center">1</td><td style="text-align:center">0</td></tr><tr><td>other</td><td style="text-align:center">0</td><td style="text-align:center">0</td><td style="text-align:center">0</td><td style="text-align:center">0</td><td style="text-align:center">1</td></tr></tbody></table><div class="note warning"><p><strong>Technical Detail</strong><br>One-hot encoding is actually slightly more subtle than the description given above. The missing detail is that we often drop the first of the resulting binary columns. The reason we do this is that knowing the value of the other columns is enough to be certain of the value of the first. Indeed, if all of the other columns are zero, then the first column must be one, and vice-versa. Removing the first column is important as the algebra behind linear regression fails we duplicate predictor information.</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">one_hot_encode</span><span class="params">(df)</span>:</span></span><br><span class="line">    <span class="comment"># Select only categorical variables</span></span><br><span class="line">    cat_df = df.select_dtypes(include=[<span class="string">'object'</span>])</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># One-hot encode variables</span></span><br><span class="line">    dummy_df = pd.get_dummies(cat_df, drop_first=<span class="literal">True</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># Add the response back and return</span></span><br><span class="line">    dummy_df[<span class="string">'G3'</span>] = df[<span class="string">'G3'</span>]</span><br><span class="line">    <span class="keyword">return</span> dummy_df</span><br><span class="line"></span><br><span class="line"><span class="comment"># One-hot encode both datasets</span></span><br><span class="line">dummy_dfm = one_hot_encode(data_m)</span><br><span class="line">dummy_dfp = one_hot_encode(data_p)</span><br></pre></td></tr></table></figure><h3 id="Finding-and-Visualizing-Correlations-for-Encoded-Categorical-Variables">Finding and Visualizing Correlations for Encoded Categorical Variables</h3><p>We can now analyze the correlation coefficients for the final grades of all the variables for both datasets.</p><p><img src="/" class="lazyload" data-src="/images/school-success/school-success_28_0.png" alt="Correlations between categorical predictors and the response for math"></p><p><img src="/" class="lazyload" data-src="/images/school-success/school-success_29_0.png" alt="Correlations between categorical predictors and the response for Portuguese"></p><p>Insights:</p><ul><li>Variables that impact negatively final grades in both datasets: in a romantic relationship (<code>romantic_yes</code>), does not want to go to higher education (<code>higher_no</code>), lives in a rural area (<code>address_R</code>) and has no access to internet (<code>internet_no</code>).</li><li>Variables that impact positively final grades in both datasets: not in a romantic relationship (<code>romantic_no</code>), wants to go to higher education (<code>higher_yes</code>), lives in a urban area (<code>address_U</code>), has access to internet (<code>internet_no</code>).</li><li>In Portuguese performance dataset, the <code>school</code> variable has a very high impact on the final grade (negatively impacted if goes to MS and positively impacted if goes to GP).</li><li>Males seem to score higher in math whereas females score higher in portuguese.</li></ul><h2 id="Visualizing-Key-Trends">Visualizing Key Trends</h2><p>Some of the results are quite unexpected so let’s visualize them.</p><h3 id="Effect-of-Address-Type-on-Grades">Effect of Address Type on Grades</h3><p><img src="/" class="lazyload" data-src="/images/school-success/school-success_34_0.png" alt="Impact of address type on student performance"></p><p>Insights:</p><ul><li>For math performance, there is not too much difference between urban and rural students. However, urban students tend to score slightly more.</li><li>For portuguese performance, we can see that urban students score higher more often than rural students.</li></ul><h3 id="Effect-of-Relationship-Status-on-Grades">Effect of Relationship Status on Grades</h3><p><img src="/" class="lazyload" data-src="/images/school-success/school-success_37_0.png" alt="Impact of relationship status on student performance"></p><p>Note, that of the 395 math students, 132 (33.4%) were in a relationship. Likewise 239 (36.8%) or of the 649 Portuguese students were in a relationship</p><p>Insights:</p><ul><li>In both datasets, there are more single students than in a relationship (only 33% in math dataset and 36% in portuguese dataset). This might skew results as there is less data to analyze for students in a relationship. We can see that in the Portuguese dataset where there are more values to analyze, the scatter plot shapes tend to look more similar.</li><li>Not enough data to say if relationship has true impact on math performance.</li></ul><h3 id="Effect-of-Sex-on-Grades">Effect of Sex on Grades</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">fig, axs = plt.subplots(<span class="number">2</span>, <span class="number">1</span>, figsize=(<span class="number">12</span>,<span class="number">10</span>))</span><br><span class="line">plt.subplots_adjust(hspace=<span class="number">.25</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sex_plot</span><span class="params">(data, ax, subject)</span>:</span></span><br><span class="line">    ax.set_xlim(<span class="number">0</span>, <span class="number">20</span>)</span><br><span class="line">    sns.kdeplot(data.loc[data[<span class="string">'sex'</span>] == <span class="string">'F'</span>, <span class="string">'G3'</span>], label=<span class="string">'Female'</span>, shade=<span class="literal">True</span>, ax=ax)</span><br><span class="line">    sns.kdeplot(data.loc[data[<span class="string">'sex'</span>] == <span class="string">'M'</span>, <span class="string">'G3'</span>], label=<span class="string">'Male'</span>, shade=<span class="literal">True</span>, ax=ax)</span><br><span class="line">    ax.set_title(<span class="string">f'Female vs Male Students <span class="subst">&#123;subject&#125;</span> Performance'</span>)</span><br><span class="line">    ax.set_xlabel(<span class="string">'Grade'</span>)</span><br><span class="line">    ax.set_ylabel(<span class="string">'Density'</span>)</span><br><span class="line"></span><br><span class="line">sex_plot(data_m, axs[<span class="number">0</span>], subject=<span class="string">'Math'</span>)</span><br><span class="line">sex_plot(data_p, axs[<span class="number">1</span>], subject=<span class="string">'Portuguese'</span>)</span><br></pre></td></tr></table></figure><p><img src="/" class="lazyload" data-src="/images/school-success/school-success_41_0.png" alt="Impact of sex on student performance"></p><h3 id="Effect-of-School-Choice-on-Grades">Effect of School Choice on Grades</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Analyzing impact of choice of school on Portuguese performance</span></span><br><span class="line">plt.subplots(figsize=(<span class="number">12</span>,<span class="number">8</span>))</span><br><span class="line">b = sns.swarmplot(x=<span class="string">'school'</span>, y=<span class="string">'G3'</span>, data=data_p)</span><br><span class="line">b.axes.set_title(<span class="string">'School Choice vs Final Grade Portuguese'</span>)</span><br><span class="line">b.set_xlabel(<span class="string">'School'</span>)</span><br><span class="line">b.set_ylabel(<span class="string">'Final Grade'</span>);</span><br></pre></td></tr></table></figure><p><img src="/" class="lazyload" data-src="/images/school-success/school-success_43_0.png" alt="Impact of school choice on student performance"></p><p>Insights:</p><ul><li>From the available data, MS students (<code>school_MS</code>) tend to score less than GP students (<code>school_GP</code>) in Portuguese. Maybe GP is specialized in Portuguese and students have access to higher-quality resources.</li><li>However as for the relationship analysis, there are less students going to MS so it might affect results.</li></ul><h2 id="Model-fitting">Model-fitting</h2><p>We are now going to build a multi-linear regression model for both datasets. To avoid the impact of correlated variables, we only use the top twelve most influential predictors. We start with the math scores.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fit_regression_model</span><span class="params">(df, dummy_df)</span>:</span></span><br><span class="line">    num_df = df.select_dtypes(exclude=[<span class="string">'object'</span>])</span><br><span class="line">    full_df = pd.concat([num_df, dummy_df.drop(<span class="string">'G3'</span>, axis=<span class="number">1</span>)], axis=<span class="number">1</span>)</span><br><span class="line">    full_df.drop([<span class="string">'G1'</span>, <span class="string">'G2'</span>], axis=<span class="number">1</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">    most_inf = np.abs(full_df.corr()[<span class="string">'G3'</span>]).sort_values()[<span class="number">-13</span>:].index</span><br><span class="line">    red_df = full_df.loc[:, most_inf]</span><br><span class="line"></span><br><span class="line">    X = np.array(red_df.drop(<span class="string">'G3'</span>, axis=<span class="number">1</span>))</span><br><span class="line">    y = np.array(red_df[<span class="string">'G3'</span>])</span><br><span class="line"></span><br><span class="line">    Z = sm.add_constant(X)</span><br><span class="line">    mod = sm.OLS(y, Z).fit()</span><br><span class="line">    </span><br><span class="line">    results_as_html = mod.summary().tables[<span class="number">1</span>].as_html()</span><br><span class="line">    coeffs = pd.read_html(results_as_html, header=<span class="number">0</span>, index_col=<span class="number">0</span>)[<span class="number">0</span>]</span><br><span class="line">    coeffs = coeffs.set_index(pd.Index([<span class="string">'intercept'</span>]).append(red_df.drop(<span class="string">'G3'</span>, axis=<span class="number">1</span>).columns))</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> mod.rsquared, coeffs</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">r2_m, coeffs_m = fit_regression_model(data_m, dummy_dfm)</span><br><span class="line"></span><br><span class="line">print(<span class="string">f"Model R^2: <span class="subst">&#123;r2_m:<span class="number">.02</span>f&#125;</span>"</span>)</span><br><span class="line">display(coeffs_m)</span><br></pre></td></tr></table></figure><pre><code>Model R^2: 0.20
</code></pre><table><thead><tr><th></th><th>coef</th><th>std err</th><th>t</th><th>P&gt;|t|</th><th>[0.025</th><th>0.975]</th></tr></thead><tbody><tr><th>intercept</th><td>10.2932</td><td>3.454</td><td>2.981</td><td>0.003</td><td>3.503</td><td>17.083</td></tr><tr><th>paid_yes</th><td>0.2347</td><td>0.439</td><td>0.534</td><td>0.593</td><td>-0.629</td><td>1.099</td></tr><tr><th>sex_M</th><td>1.1617</td><td>0.436</td><td>2.665</td><td>0.008</td><td>0.305</td><td>2.019</td></tr><tr><th>address_U</th><td>0.5889</td><td>0.543</td><td>1.084</td><td>0.279</td><td>-0.479</td><td>1.657</td></tr><tr><th>Mjob_health</th><td>1.1831</td><td>0.779</td><td>1.519</td><td>0.130</td><td>-0.349</td><td>2.715</td></tr><tr><th>traveltime</th><td>-0.2877</td><td>0.324</td><td>-0.887</td><td>0.376</td><td>-0.926</td><td>0.350</td></tr><tr><th>romantic_yes</th><td>-0.8371</td><td>0.458</td><td>-1.829</td><td>0.068</td><td>-1.737</td><td>0.063</td></tr><tr><th>goout</th><td>-0.4753</td><td>0.194</td><td>-2.450</td><td>0.015</td><td>-0.857</td><td>-0.094</td></tr><tr><th>Fedu</th><td>-0.1004</td><td>0.251</td><td>-0.400</td><td>0.689</td><td>-0.594</td><td>0.393</td></tr><tr><th>age</th><td>-0.0467</td><td>0.178</td><td>-0.263</td><td>0.793</td><td>-0.396</td><td>0.302</td></tr><tr><th>higher_yes</th><td>1.4442</td><td>1.044</td><td>1.383</td><td>0.167</td><td>-0.608</td><td>3.497</td></tr><tr><th>Medu</th><td>0.4811</td><td>0.259</td><td>1.861</td><td>0.064</td><td>-0.027</td><td>0.989</td></tr><tr><th>failures</th><td>-1.7399</td><td>0.314</td><td>-5.547</td><td>0.000</td><td>-2.357</td><td>-1.123</td></tr></tbody></table><p>Insights for math data set linear regression model:</p><ul><li>Our model explains explains 20% of the inputs into the final grade (<code>G3</code>), however it could still be improve if the goal of this article would be pure accuracy.</li><li>We can see that the willingness of the student to go into higher education (<code>higher_yes</code>) is a variable with one of the largest absolute coefficients. If the student is willing to go into higher education, their score will increase, on average, by 1.44 points.</li><li>There are other statistically significant coefficients such as <code>failures</code>, <code>sex_M</code>, and <code>goout</code>.</li><li>For example, <code>failures</code> plays a decisive role in student performance: for each class the student has failed in the past, they can roughly except a decrease of 1.74 in their final score.</li></ul><p>And now for the Portuguese scores.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">r2_p, coeffs_p = fit_regression_model(data_p, dummy_dfp)</span><br><span class="line"></span><br><span class="line">print(<span class="string">f"Model R^2: <span class="subst">&#123;r2_p:<span class="number">.03</span>f&#125;</span>"</span>)</span><br><span class="line">display(coeffs_p)</span><br></pre></td></tr></table></figure><pre><code>Model R^2: 0.305
</code></pre><table><thead><tr><th></th><th>coef</th><th>std err</th><th>t</th><th>P&gt;|t|</th><th>[0.025</th><th>0.975]</th></tr></thead><tbody><tr><th>intercept</th><td>9.8593</td><td>0.612</td><td>16.114</td><td>0.000</td><td>8.658</td><td>11.061</td></tr><tr><th>Mjob_teacher</th><td>0.2976</td><td>0.384</td><td>0.776</td><td>0.438</td><td>-0.456</td><td>1.051</td></tr><tr><th>internet_yes</th><td>0.3248</td><td>0.269</td><td>1.207</td><td>0.228</td><td>-0.204</td><td>0.853</td></tr><tr><th>address_U</th><td>0.3521</td><td>0.252</td><td>1.397</td><td>0.163</td><td>-0.143</td><td>0.847</td></tr><tr><th>reason_reputation</th><td>0.4602</td><td>0.270</td><td>1.704</td><td>0.089</td><td>-0.070</td><td>0.990</td></tr><tr><th>Walc</th><td>-0.1570</td><td>0.108</td><td>-1.455</td><td>0.146</td><td>-0.369</td><td>0.055</td></tr><tr><th>Dalc</th><td>-0.3119</td><td>0.149</td><td>-2.098</td><td>0.036</td><td>-0.604</td><td>-0.020</td></tr><tr><th>Fedu</th><td>0.1503</td><td>0.129</td><td>1.169</td><td>0.243</td><td>-0.102</td><td>0.403</td></tr><tr><th>Medu</th><td>0.0980</td><td>0.137</td><td>0.718</td><td>0.473</td><td>-0.170</td><td>0.366</td></tr><tr><th>studytime</th><td>0.4366</td><td>0.137</td><td>3.192</td><td>0.001</td><td>0.168</td><td>0.705</td></tr><tr><th>school_MS</th><td>-1.0299</td><td>0.252</td><td>-4.087</td><td>0.000</td><td>-1.525</td><td>-0.535</td></tr><tr><th>higher_yes</th><td>1.6627</td><td>0.376</td><td>4.421</td><td>0.000</td><td>0.924</td><td>2.401</td></tr><tr><th>failures</th><td>-1.4374</td><td>0.193</td><td>-7.449</td><td>0.000</td><td>-1.816</td><td>-1.058</td></tr></tbody></table><p>Insights for the portuguese data set linear regression model:</p><ul><li>Our model explains explains 30.5% of the inputs into the final grade (<code>G3</code>), better than the math model but still leaving room for improvement.</li><li>We again see that the desire to go into higher education and the number of previous failures are highly influential when determining a student’s final grade.</li><li>There are other statistically significant coefficients such as <code>school_MS</code>, <code>failures</code> and <code>studytime</code>.</li><li>In fact, the influence of going to Mousinho da Silveira is strong, with an expected decrease in one mark in a student’s Portuguese grade</li></ul><h2 id="Conclusion">Conclusion</h2><p>We have seen that many factors can influence your final grades, the strongest of which typically being socio-economic characteristics (address, parent’s education, family relationship, etc.) that cannot be changed. Those factors can also depend on the potential biases of the dataset. For example, maybe the mother’s unemployment status has a bigger cultural impact on Portuguese student than on UK students. However, some variables that are controllable by the student such as <code>studytime</code>, going out (<code>goout</code>), consumption of alcohol (<code>Dalc</code> and <code>Walc</code>) and potentially relationship status (<code>romantic</code>) have been proved to have an impact on the final grade (<code>G3</code>) of students in these datasets.</p><p>Although valuable insights have been gleaned from this dataset it is clear from our poorly fitting regression model that linear interactions alone are insufficient for capturing a system as complicated as a student’s school performance. If a purely performative model is what we desired, then moving towards a tree-based model or including carefully chosen interaction terms would be advised.</p></div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="https://www.linkedin.com/in/brandusa-draghici-5b0a84147/" target="_blank" rel="noopener">Brandusa Draghici</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Permalink: </span><span class="post-copyright-info"><a href="https://research.wdss.io/school-success/">https://research.wdss.io/school-success/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> unless otherwise specified.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/visualization/">visualization</a><a class="post-meta__tags" href="/tags/data-analysis/">data-analysis</a><a class="post-meta__tags" href="/tags/regression/">regression</a></div><div class="post_share"><div class="social-share" data-image="/banners/voting.png" data-sites="facebook,twitter,linkedin"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/urban-cities/"><img class="prev_cover lazyload" data-src="/banners/urban-cities.jpg" onerror='onerror=null,src="/img/404.jpg"'><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">Urban Cities: A History Told By Data</div></div></a></div><div class="next-post pull_right"><a href="/gibrats-law/"><img class="next_cover lazyload" data-src="/banners/gibrats-law.jpg" onerror='onerror=null,src="/img/404.jpg"'><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Gibrat's Law: The Central Limit Theorem's Forgotten Twin</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> Recommended</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/trump-effect/" title="The Trump Effect: Can Data Explain What We Never Saw Coming?"><img class="relatedPosts_cover lazyload" data-src="/banners/trump-effect.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-08-14</div><div class="relatedPosts_title">The Trump Effect: Can Data Explain What We Never Saw Coming?</div></div></a></div><div class="relatedPosts_item"><a href="/leaders-speeches/" title="A Data-Driven Dive into UK Party Conference Leaders' Speeches"><img class="relatedPosts_cover lazyload" data-src="/banners/leaders-speeches.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2021-01-04</div><div class="relatedPosts_title">A Data-Driven Dive into UK Party Conference Leaders' Speeches</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> Comment</span></div><div id="disqus_thread"></div><script>var disqus_config=function(){this.page.url="https://research.wdss.io/school-success/",this.page.identifier="school-success/",this.page.title="What Factors Actually Affect Your Grades?"};!function(){var s=document,e=s.createElement("script");e.src="https://wdss-research-blog.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(s.head||s.body).appendChild(e)}()</script><script>function getDisqusCount(){var s=document,t=s.createElement("script");t.src="https://wdss-research-blog.disqus.com/count.js",t.id="dsq-count-scr",(s.head||s.body).appendChild(t)}window.addEventListener("load",getDisqusCount,!1)</script></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By Warwick Data Science</div><div class="framework-info"><span>Powered By </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="Read Mode"></i><i class="fa fa-plus" id="font_plus" title="Increase font size"></i><i class="fa fa-minus" id="font_minus" title="Decrease font size"></i><i class="darkmode fa fa-moon-o" id="darkmode" title="Dark Mode"></i></div><div id="rightside-config-show"><div id="rightside_config" title="Setting"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="Comments"><i class="scroll_to_comment fa fa-comments"></i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="Table of Contents" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="Back to top" aria-hidden="true"></i></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">Search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>Powered by</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49b1f5">hexo-generator-search</a></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css"><script>$(function(){$("span.katex-display").wrap('<div class="katex-wrap"></div>')})</script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async></script><script src="/js/search/local-search.js"></script></body></html>